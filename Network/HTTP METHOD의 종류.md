# HTTP METHOD

HTTP METHOD 란, 클라이언트와 서버 사이에 이루어진 Request(요청), Response(응답) 데이터를 전송하는 방식을 말한다.   
즉, **서버가 수행해야할 동작을 지정하여 요청을 보내는 방법**을 의미한다.

<br>

> 사용 이유

결국 리소스와 동작을 분리하기 위함으로, HTTP METHOD 를 통해 서버가 수행해야 할 동작을 지정하면,   
URI 는 리소스만 식별하면 되기 때문이다.


<br>

> HTTP METHOD의 종류

HTTP METHOD 는 크게 8가지가 있으며, 다음과 같다.

- `GET` : 리소스를 조회할 때 사용한다.
- `POST` : 클라이언트의 요청 데이터를 처리할 때 주로 사용되고, 이를 통해 리소스를 등록할 때 사용한다.
- `PUT` : 리소스를 **전체적으로** 대체 및 수정할 때 사용하고, 만약 덮어쓸 리소스가 존재하지 않는다면 새로 생성한다.
- `DELETE` : 리소를 삭제할 떄 사용한다.
- `PATCH` : 리소스를 **부분적으로** 수정할 때 사용한다.
- `HEAD` : GET 과 동일하나, HTTP 메시지의 body 부분을 제외하고 조회한다.
- `OPTIONS` : 서버와 브라우저가 통신하기 위한 통신 옵션을 확인하기 위해 사용한다.
  - 서버가 어떤 method, header, content-type을 제공하는지 알 수 있다.
- `CONNECT` : 대상 리소스로 식별되는 서버에 대한 터널(연결)을 설정할 때 사용한다.

<br>

## HTTP 메서드의 속성(attribution)   
각각의 HTTP 메서드는 용도와 특징이 모두 다르고 이러한 **메서드의 속성은 각 메서드의 특징을 확인할 수 있는 지표**로   
볼 수 있다. 메서드의 속성으로는 아래와 같이 크게 5가지가 존재한다.   

1. 안전(Safe methods)
2. 멱등(Idempotent methods)
3. 캐시 가능(Cacheable methods)
4. 요청에 본문(body) 존재
5. 응답에 본문(body) 존재

<br>   

> 안전(Safe)

안전(safe)는 메서드를 호출하더라도, **리소스를 변경하지 않는 메서드 속성**을 의미한다.   
데이터의 변경이 일어나지 않는다는 뜻으로, `GET` 메서드가 단순히 데이터를 가져오거나 조회할 때 사용하게 되는데   
이러한 `GET` 메서드를 안전한 속성을 가진 메서드라고 한다.

<br>

> 멱등(Idempotent)   

멱등성은 일반적으로 수학이나 전산학(CS)에서 연산에 대한 성질을 나타내는 용어로,   
연산을 여러번 해도 결과가 달라지지 않아야 하는 성질을 의미한다. HTTP 메서드의 속성에도 이러한 성질을 대입해 볼 수 있다.

**HTTP 메서드에서의 멱등은 여러 번 메서드를 호출해도 최종적인 결과는 이전과 똑같은 성질**을 나타낸다.   
데이터를 가져오거나 삭제, 완전히 대체하는 메서드들(GET, DELETE, PUT)은 여러번 수행되더라도 결과적으로 데이터를   
조회, 삭제, 대체한다는 결과적인 사실에는 변함이 없기 때문에 멱등한 메서드(Idempotent method)라고 할 수 있다.   

그러나, **POST 의 경우 멱등하지 않은 메서드** 이다. 이유는 예시와 같다.   
고객에게 돈을 보내는 송금 기능을 구현할 때 POST 메서드를 사용했다고 가정한다. 해당 메서드를 2번 이상 호출했다면 작업이 2번 이상 발생하게 된다.   
돈을 보내는 사람과 받는 사람에 대해 계좌에 보유한 돈의 금액이 송금을 할때 마다 계속 변화하기 때문에   
**기존 데이터는 계속 변화** 한다고 볼 수 있으므로 이에 따라 POST 메서드는 멱등하지 않은 메서드에 해당된다.

<br>

> 캐시 가능(Cacheable)   

응답 결과에 대한 리소스를 캐시해서 사용해도 되는지에 대한 속성이다. GET, HEAD, POST, PATCH 메서드가 캐시 가능 속성을 가지는 메서드로,   
일반적으로는 GET, HEAD 메서드 정도만 캐시로 쓰고 있다.

<br>

> 요청/응답에 본문(body) 존재

요청 또는 응답 시 데이터를 Message Body에 담아서 보내는지에 대한 속성이다.

<br><hr>

## 주요 HTTP METHOD 내용 정리   
> GET   

리소스를 조회할 때 사용하는 HTTP 메서드이다.   
서버를 전달하고 싶은 데이터가 있을 때 Query string을 통해 전달할 수 있다.   
Query string 외에도 Message body를 통해 데이터를 보낼 수도 있지만 서버 자체에서 지원하지 않는 곳이 많아서 권장하지는 않는다.   
조회 시 POST METHOD 를 사용할 수는 있지만 주로 캐싱이 가능한 GET 메서드를 사용한다.